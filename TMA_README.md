# Fitness AI Coach - Telegram Mini App

ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğµ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Telegram Ñ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ¼ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ, Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ¾Ğµ Ğ½Ğ° Ğ³Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğµ.

## ğŸ¯ Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾?

Telegram Mini App, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼, Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑÑ:
- ğŸ“¸ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ñ„Ğ¾Ñ‚Ğ¾ Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ ĞµĞ´Ñ‹
- ğŸ“Š Ğ”Ğ½ĞµĞ²Ğ½Ğ¸Ğº Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ĞµĞ¹
- ğŸ“ˆ ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¸ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸
- ğŸ‘¤ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¼ Ğ¸ Ñ†ĞµĞ»ÑĞ¼Ğ¸
- ğŸ”„ Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼ Ğ¸ Mini App

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Telegram Bot  â”‚      â”‚ Telegram Mini   â”‚
â”‚   (Python)      â”‚      â”‚ App (React/TS)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                         â”‚
        â”‚ ĞĞ‘Ğ©Ğ˜Ğ™ BACKEND API       â”‚
        â”‚ (FastAPI)               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   SQLite Database â”‚
        â”‚   + AI Modules    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### Backend API (âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾)
- âœ… REST API Ğ½Ğ° FastAPI
- âœ… ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Telegram WebApp
- âœ… ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ„Ğ¾Ñ‚Ğ¾/Ğ²Ğ¸Ğ´ĞµĞ¾ Ñ‡ĞµÑ€ĞµĞ· AI
- âœ… CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼Ğ¾Ğ² Ğ¿Ğ¸Ñ‰Ğ¸
- âœ… ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- âœ… Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑĞ¼Ğ¸ Ğ±Ğ¾Ñ‚Ğ°

### Frontend (âœ… 60% Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾)
- âœ… React 18 + TypeScript + Vite
- âœ… iOS-style Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ Ñ Tailwind CSS
- âœ… Telegram WebApp SDK Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- âœ… State management (Zustand)
- âœ… Ğ Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³ Ğ¸ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
- âœ… API client Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹
- ğŸ”„ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ ĞºĞ°Ğ¼ĞµÑ€Ğ¾Ğ¹
- ğŸ”„ Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ (recharts)
- ğŸ”„ PWA Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### 1. Backend API

```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
pip install -r backend_api/requirements.txt

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ API
./backend_api/run.sh

# Ğ˜Ğ»Ğ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
python -m backend_api.main

# API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ½Ğ° http://localhost:8000
# Swagger UI: http://localhost:8000/docs
```

### 2. Frontend

```bash
# ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ frontend
cd miniapp-frontend

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
npm install

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ dev ÑĞµÑ€Ğ²ĞµÑ€
npm run dev

# ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ http://localhost:5173
```

### 3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `.env` Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ· `.env.example`:

```bash
cp .env.example .env
```

Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ:
```env
TELEGRAM_BOT_TOKEN=your_bot_token
OPENROUTER_API_KEY=your_api_key
GROQ_API_KEY=your_groq_key
ALLOWED_ORIGINS=http://localhost:5173
```

## ğŸ“– Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

- [Backend API README](backend_api/README.md)
- [Backend Testing Guide](backend_api/TESTING.md)
- [Frontend README](miniapp-frontend/README.md)
- [Implementation Progress](TMA_IMPLEMENTATION_PROGRESS.md)
- [Spec Documents](.kiro/specs/fitness-ai-coach-tma/)

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Backend

```bash
# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹
pytest backend_api/tests/ -v

# Ğ¢ĞµÑÑ‚ API endpoints
python backend_api/test_api.py
```

### Frontend

```bash
cd miniapp-frontend

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ (ĞºĞ¾Ğ³Ğ´Ğ° Ğ±ÑƒĞ´ÑƒÑ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹)
npm test
```

## ğŸ“± ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ² Telegram

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ @BotFather
2. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ±Ğ¾Ñ‚Ğ°
3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `/setmenubutton` Ğ¸Ğ»Ğ¸ `/newapp`
4. Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ URL Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Mini App (Ğ¿Ğ¾ÑĞ»Ğµ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ)

## ğŸ› ï¸ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

### Backend
- **FastAPI** - Modern Python web framework
- **aiosqlite** - Async SQLite
- **Pydantic** - Data validation
- **CORS** - Cross-origin support

### Frontend
- **React 18** - UI library
- **TypeScript** - Type safety
- **Vite** - Build tool
- **Tailwind CSS** - Styling
- **Zustand** - State management
- **React Router** - Navigation
- **Axios** - HTTP client
- **Recharts** - Charts (to be integrated)

### Integration
- **Telegram WebApp SDK** - Native integration
- **Existing bot modules** - PhotoAnalyzer, VideoAnalyzer

## ğŸ“Š ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

- âœ… Backend API: **100%**
- âœ… Frontend Infrastructure: **100%**
- ğŸ”„ Core Features: **30%**
- â³ Integration: **0%**
- â³ Polish & Deploy: **0%**

**ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ: ~60%**

## ğŸ¯ Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

1. **Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Core Features**
   - [ ] Camera capture component
   - [ ] Charts implementation
   - [ ] Full meal CRUD UI
   - [ ] Image optimization

2. **Integration**
   - [ ] Video recording
   - [ ] Data synchronization
   - [ ] Comprehensive error handling

3. **Polish & Deploy**
   - [ ] PWA manifest
   - [ ] Performance optimization
   - [ ] Production deployment
   - [ ] Bot configuration

## ğŸ¤ ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ

### Ğ”Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Backend API (Ğ¿Ğ¾Ñ€Ñ‚ 8000)
2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Frontend dev server (Ğ¿Ğ¾Ñ€Ñ‚ 5173)
3. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ http://localhost:5173 Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
4. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Swagger UI Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ API

### Ğ”Ğ»Ñ production

1. Ğ¡Ğ¾Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ frontend: `npm run build`
2. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹Ñ‚Ğµ backend Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€
3. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹Ñ‚Ğµ frontend ÑÑ‚Ğ°Ñ‚Ğ¸ĞºÑƒ (Vercel/Netlify)
4. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Nginx reverse proxy
5. Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ URL Ğ² @BotFather

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
fitness_ai_coach/
â”œâ”€â”€ backend_api/           # Backend API (FastAPI)
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ tests/
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ miniapp-frontend/      # Frontend (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib/          # Utilities
â”‚   â”‚   â”œâ”€â”€ components/   # UI components
â”‚   â”‚   â”œâ”€â”€ pages/        # Page components
â”‚   â”‚   â”œâ”€â”€ store/        # State management
â”‚   â”‚   â””â”€â”€ styles/       # Styles
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ core/                  # Existing bot core
â”œâ”€â”€ modules/               # Existing bot modules
â””â”€â”€ main.py               # Existing bot
```

## ğŸ› Troubleshooting

### Backend Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ Ğ²ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ñ€Ñ‚ 8000 ÑĞ²Ğ¾Ğ±Ğ¾Ğ´ĞµĞ½
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ .env Ñ„Ğ°Ğ¹Ğ»

### Frontend Ğ½Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº API
- Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ Backend Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ proxy Ğ² vite.config.ts

### Telegram WebApp SDK Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½ Ğ² index.html
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¾ Ğ² Telegram
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° Ğ½Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Telegram Mini App Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼.

## ğŸ™ Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸

- Telegram Bot API
- Telegram WebApp SDK
- FastAPI
- React
- Ğ’ÑĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ open-source Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸
